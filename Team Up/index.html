<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Card Pack Opener</title>
    <link rel="stylesheet" href="styles.css">

</head>

<body>
    <h1 class="title">Team Up Pokémon Card Pack Opener</h1>
    <br>

    <div class="pack-container" onmousedown="cutPack(event)">
        <div class="pack" id="pack"></div>
        <div class="cards-container" id="cardsContainer"></div>
    </div>

    <button class="binder-btn" onclick="window.open('binder.html', '_blank')">Go to Binder</button>
    <button class="binder-btn" onclick="window.location.href='index.html'">New Pack</button>



    <script>


        const commonCards = [
            { id: 1, image: "/Common/en_US-SM9-002-weedle.jpg" },
            { id: 2, image: "/Common/en_US-SM9-003-weedle.jpg" },
            { id: 3, image: "/Common/en_US-SM9-006-paras.jpg" },
            { id: 4, image: "/Common/en_US-SM9-008-exeggcute.jpg" },
            { id: 5, image: "/Common/en_US-SM9-011-charmander.jpg" },
            { id: 6, image: "/Common/en_US-SM9-012-charmander.jpg" },
            { id: 7, image: "/Common/en_US-SM9-015-vulpix.jpg" },
            { id: 8, image: "/Common/en_US-SM9-017-ponyta.jpg" },
            { id: 9, image: "/Common/en_US-SM9-020-litten.jpg" },
            { id: 10, image: "/Common/en_US-SM9-022-squirtle.jpg" },
            { id: 11, image: "/Common/en_US-SM9-023-squirtle.jpg" },
            { id: 12, image: "/Common/en_US-SM9-026-psyduck.jpg" },
            { id: 13, image: "/Common/en_US-SM9-028-staryu.jpg" },
            { id: 14, image: "/Common/en_US-SM9-029-magikarp.jpg" },
            { id: 15, image: "/Common/en_US-SM9-034-alolan_geodude.jpg" },
            { id: 16, image: "/Common/en_US-SM9-035-alolan_geodude.jpg" },
            { id: 17, image: "/Common/en_US-SM9-038-voltorb.jpg" },
            { id: 18, image: "/Common/en_US-SM9-041-mareep.jpg" },
            { id: 19, image: "/Common/en_US-SM9-044-blitzle.jpg" },
            { id: 20, image: "/Common/en_US-SM9-046-emolga.jpg" },
            { id: 21, image: "/Common/en_US-SM9-047-joltik.jpg" },
            { id: 22, image: "/Common/en_US-SM9-049-helioptile.jpg" },
            { id: 23, image: "/Common/en_US-SM9-054-nidoran.jpg" },
            { id: 24, image: "/Common/en_US-SM9-057-nidoran.jpg" },
            { id: 25, image: "/Common/en_US-SM9-060-tentacool.jpg" },
            { id: 26, image: "/Common/en_US-SM9-062-grimer.jpg" },
            { id: 27, image: "/Common/en_US-SM9-069-cosmog.jpg" },
            { id: 28, image: "/Common/en_US-SM9-071-mankey.jpg" },
            { id: 29, image: "/Common/en_US-SM9-079-larvitar.jpg" },
            { id: 30, image: "/Common/en_US-SM9-081-pancham.jpg" },
            { id: 31, image: "/Common/en_US-SM9-083-alolan_grimer.jpg" },
            { id: 32, image: "/Common/en_US-SM9-086-poochyena.jpg" },
            { id: 33, image: "/Common/en_US-SM9-090-zorua.jpg" },
            { id: 34, image: "/Common/en_US-SM9-092-vullaby.jpg" },
            { id: 35, image: "/Common/en_US-SM9-100-bronzor.jpg" },
            { id: 36, image: "/Common/en_US-SM9-102-ferroseed.jpg" },
            { id: 37, image: "/Common/en_US-SM9-104-pawniard.jpg" },
            { id: 38, image: "/Common/en_US-SM9-107-honedge.jpg" },
            { id: 39, image: "/Common/en_US-SM9-110-klefki.jpg" },
            { id: 40, image: "/Common/en_US-SM9-116-dratini.jpg" },
            { id: 41, image: "/Common/en_US-SM9-117-dratini.jpg" },
            { id: 42, image: "/Common/en_US-SM9-121-pidgey.jpg" },
            { id: 43, image: "/Common/en_US-SM9-122-pidgey.jpg" },
            { id: 44, image: "/Common/en_US-SM9-123-pidgeotto.jpg" },
            { id: 45, image: "/Common/en_US-SM9-125-meowth.jpg" },
        ]

        const uncommonCards = [
            { id: 46, image: "/Uncommon/en_US-SM9-002-weedle.jpg" },
            { id: 47, image: "/Uncommon/en_US-SM9-003-weedle.jpg" },
            { id: 48, image: "/Uncommon/en_US-SM9-004-kakuna.jpg" },
            { id: 49, image: "/Uncommon/en_US-SM9-006-paras.jpg" },
            { id: 50, image: "/Uncommon/en_US-SM9-008-exeggcute.jpg" },
            { id: 51, image: "/Uncommon/en_US-SM9-011-charmander.jpg" },
            { id: 52, image: "/Uncommon/en_US-SM9-012-charmander.jpg" },
            { id: 53, image: "/Uncommon/en_US-SM9-013-charmeleon.jpg" },
            { id: 54, image: "/Uncommon/en_US-SM9-015-vulpix.jpg" },
            { id: 55, image: "/Uncommon/en_US-SM9-017-ponyta.jpg" },
            { id: 56, image: "/Uncommon/en_US-SM9-018-rapidash.jpg" },
            { id: 57, image: "/Uncommon/en_US-SM9-020-litten.jpg" },
            { id: 58, image: "/Uncommon/en_US-SM9-021-torracat.jpg" },
            { id: 59, image: "/Uncommon/en_US-SM9-022-squirtle.jpg" },
            { id: 60, image: "/Uncommon/en_US-SM9-023-squirtle.jpg" },
            { id: 61, image: "/Uncommon/en_US-SM9-024-wartortle.jpg" },
            { id: 62, image: "/Uncommon/en_US-SM9-026-psyduck.jpg" },
            { id: 63, image: "/Uncommon/en_US-SM9-027-golduck.jpg" },
            { id: 64, image: "/Uncommon/en_US-SM9-028-staryu.jpg" },
            { id: 65, image: "/Uncommon/en_US-SM9-029-magikarp.jpg" },
            { id: 66, image: "/Uncommon/en_US-SM9-034-alolan_geodude.jpg" },
            { id: 67, image: "/Uncommon/en_US-SM9-035-alolan_geodude.jpg" },
            { id: 68, image: "/Uncommon/en_US-SM9-036-alolan_graveler.jpg" },
            { id: 69, image: "/Uncommon/en_US-SM9-038-voltorb.jpg" },
            { id: 70, image: "/Uncommon/en_US-SM9-041-mareep.jpg" },
            { id: 71, image: "/Uncommon/en_US-SM9-042-flaaffy.jpg" },
            { id: 72, image: "/Uncommon/en_US-SM9-044-blitzle.jpg" },
            { id: 73, image: "/Uncommon/en_US-SM9-046-emolga.jpg" },
            { id: 74, image: "/Uncommon/en_US-SM9-047-joltik.jpg" },
            { id: 75, image: "/Uncommon/en_US-SM9-049-helioptile.jpg" },
            { id: 76, image: "/Uncommon/en_US-SM9-050-heliolisk.jpg" },
            { id: 77, image: "/Uncommon/en_US-SM9-054-nidoran.jpg" },
            { id: 78, image: "/Uncommon/en_US-SM9-055-nidorina.jpg" },
            { id: 79, image: "/Uncommon/en_US-SM9-057-nidoran.jpg" },
            { id: 80, image: "/Uncommon/en_US-SM9-058-nidorino.jpg" },
            { id: 81, image: "/Uncommon/en_US-SM9-060-tentacool.jpg" },
            { id: 82, image: "/Uncommon/en_US-SM9-061-tentacruel.jpg" },
            { id: 83, image: "/Uncommon/en_US-SM9-062-grimer.jpg" },
            { id: 84, image: "/Uncommon/en_US-SM9-068-jynx.jpg" },
            { id: 85, image: "/Uncommon/en_US-SM9-069-cosmog.jpg" },
            { id: 86, image: "/Uncommon/en_US-SM9-070-cosmoem.jpg" },
            { id: 87, image: "/Uncommon/en_US-SM9-071-mankey.jpg" },
            { id: 88, image: "/Uncommon/en_US-SM9-073-hitmonlee.jpg" },
            { id: 89, image: "/Uncommon/en_US-SM9-074-hitmonchan.jpg" },
            { id: 90, image: "/Uncommon/en_US-SM9-075-omanyte.jpg" },
            { id: 91, image: "/Uncommon/en_US-SM9-077-kabuto.jpg" },
            { id: 92, image: "/Uncommon/en_US-SM9-079-larvitar.jpg" },
            { id: 93, image: "/Uncommon/en_US-SM9-080-pupitar.jpg" },
            { id: 94, image: "/Uncommon/en_US-SM9-081-pancham.jpg" },
            { id: 95, image: "/Uncommon/en_US-SM9-083-alolan_grimer.jpg" },
            { id: 96, image: "/Uncommon/en_US-SM9-086-poochyena.jpg" },
            { id: 97, image: "/Uncommon/en_US-SM9-089-spiritomb.jpg" },
            { id: 98, image: "/Uncommon/en_US-SM9-090-zorua.jpg" },
            { id: 99, image: "/Uncommon/en_US-SM9-092-vullaby.jpg" },
            { id: 100, image: "/Uncommon/en_US-SM9-100-bronzor.jpg" },
            { id: 101, image: "/Uncommon/en_US-SM9-102-ferroseed.jpg" },
            { id: 102, image: "/Uncommon/en_US-SM9-104-pawniard.jpg" },
            { id: 103, image: "/Uncommon/en_US-SM9-107-honedge.jpg" },
            { id: 104, image: "/Uncommon/en_US-SM9-108-doublade.jpg" },
            { id: 105, image: "/Uncommon/en_US-SM9-110-klefki.jpg" },
            { id: 106, image: "/Uncommon/en_US-SM9-116-dratini.jpg" },
            { id: 107, image: "/Uncommon/en_US-SM9-117-dratini.jpg" },
            { id: 108, image: "/Uncommon/en_US-SM9-118-dragonair.jpg" },
            { id: 109, image: "/Uncommon/en_US-SM9-121-pidgey.jpg" },
            { id: 110, image: "/Uncommon/en_US-SM9-122-pidgey.jpg" },
            { id: 111, image: "/Uncommon/en_US-SM9-123-pidgeotto.jpg" },
            { id: 112, image: "/Uncommon/en_US-SM9-125-meowth.jpg" },
            { id: 113, image: "/Uncommon/en_US-SM9-126-persian.jpg" },
            { id: 114, image: "/Uncommon/en_US-SM9-127-farfetchd.jpg" },
            { id: 115, image: "/Uncommon/en_US-SM9-128-kangaskhan.jpg" },
            { id: 116, image: "/Uncommon/en_US-SM9-129-tauros.jpg" },

        ]

        const rareCards = [
            { id: 117, image: "/Rare/en_US-SM9-005-beedrill.jpg" },
            { id: 118, image: "/Rare/en_US-SM9-007-parasect.jpg" },
            { id: 119, image: "/Rare/en_US-SM9-009-pinsir.jpg" },
            { id: 120, image: "/Rare/en_US-SM9-014-charizard.jpg" },
            { id: 121, image: "/Rare/en_US-SM9-016-ninetales.jpg" },
            { id: 122, image: "/Rare/en_US-SM9-025-blastoise.jpg" },
            { id: 123, image: "/Rare/en_US-SM9-031-lapras.jpg" },
            { id: 124, image: "/Rare/en_US-SM9-037-alolan_golem.jpg" },
            { id: 125, image: "/Rare/en_US-SM9-045-zebstrika.jpg" },
            { id: 126, image: "/Rare/en_US-SM9-048-galvantula.jpg" },
            { id: 127, image: "/Rare/en_US-SM9-056-nidoqueen.jpg" },
            { id: 128, image: "/Rare/en_US-SM9-059-nidoking.jpg" },
            { id: 129, image: "/Rare/en_US-SM9-063-muk.jpg" },
            { id: 130, image: "/Rare/en_US-SM9-064-alolan_marowak.jpg" },
            { id: 131, image: "/Rare/en_US-SM9-065-starmie.jpg" },
            { id: 132, image: "/Rare/en_US-SM9-066-mr_mime.jpg" },
            { id: 133, image: "/Rare/en_US-SM9-072-primeape.jpg" },
            { id: 134, image: "/Rare/en_US-SM9-078-kabutops.jpg" },
            { id: 135, image: "/Rare/en_US-SM9-084-alolan_muk.jpg" },
            { id: 136, image: "/Rare/en_US-SM9-087-mightyena.jpg" },
            { id: 137, image: "/Rare/en_US-SM9-093-mandibuzz.jpg" },
            { id: 138, image: "/Rare/en_US-SM9-094-pangoro.jpg" },
            { id: 139, image: "/Rare/en_US-SM9-098-skarmory.jpg" },
            { id: 140, image: "/Rare/en_US-SM9-101-bronzong.jpg" },
            { id: 141, image: "/Rare/en_US-SM9-105-bisharp.jpg" },
            { id: 142, image: "/Rare/en_US-SM9-112-mimikyu.jpg" },
            { id: 143, image: "/Rare/en_US-SM9-114-alolan_exeggutor.jpg" },
            { id: 144, image: "/Rare/en_US-SM9-115-alolan_exeggutor.jpg" },
            { id: 145, image: "/Rare/en_US-SM9-124-pidgeot.jpg" },
            { id: 146, image: "/Rare/en_US-SM9-130-aerodactyl.jpg" },
        ]

        const energyCards = [
            { id: 147, image: "/Energy/en_US-SM_Energy-001-grass_energy-1.jpg" },
            { id: 148, image: "/Energy/en_US-SM_Energy-002-fire_energy-1.jpg" },
            { id: 149, image: "/Energy/en_US-SM_Energy-003-water_energy-1.jpg" },
            { id: 150, image: "/Energy/en_US-SM_Energy-004-lightning_energy-1.jpg" },
            { id: 151, image: "/Energy/en_US-SM_Energy-005-psychic_energy-1.jpg" },
            { id: 152, image: "/Energy/en_US-SM_Energy-006-fighting_energy-1.jpg" },
            { id: 153, image: "/Energy/en_US-SM_Energy-007-darkness_energy-1.jpg" },
            { id: 154, image: "/Energy/en_US-SM_Energy-008-metal_energy-1.jpg" },
            { id: 155, image: "/Energy/en_US-SM_Energy-009-fairy_energy-1.jpg" },

        ];


        const trainerCards = [
            { id: 156, image: "/Trainors/en_US-SM9-010-shaymin.jpg" },
            { id: 157, image: "/Trainors/en_US-SM9-051-tapu_koko.jpg" },
            { id: 158, image: "/Trainors/en_US-SM9-133-bills_analysis.jpg" },
            { id: 159, image: "/Trainors/en_US-SM9-134-black_market.jpg" },
            { id: 160, image: "/Trainors/en_US-SM9-135-brocks_grit.jpg" },
            { id: 161, image: "/Trainors/en_US-SM9-136-buff_padding.jpg" },
            { id: 162, image: "/Trainors/en_US-SM9-137-dana.jpg" },
            { id: 163, image: "/Trainors/en_US-SM9-138-dangerous_drill.jpg" },
            { id: 164, image: "/Trainors/en_US-SM9-139-electrocharger.jpg" },
            { id: 165, image: "/Trainors/en_US-SM9-140-erikas_hospitality.jpg" },
            { id: 166, image: "/Trainors/en_US-SM9-141-evelyn.jpg" },
            { id: 167, image: "/Trainors/en_US-SM9-142-fairy_charm_ub.jpg" },
            { id: 168, image: "/Trainors/en_US-SM9-143-grass_memory.jpg" },
            { id: 169, image: "/Trainors/en_US-SM9-144-ingo_emmet.jpg" },
            { id: 170, image: "/Trainors/en_US-SM9-145-jasmine.jpg" },
            { id: 171, image: "/Trainors/en_US-SM9-146-judge_whistle.jpg" },
            { id: 172, image: "/Trainors/en_US-SM9-147-lavender_town.jpg" },
            { id: 173, image: "/Trainors/en_US-SM9-148-metal_goggles.jpg" },
            { id: 174, image: "/Trainors/en_US-SM9-149-morgan.jpg" },
            { id: 175, image: "/Trainors/en_US-SM9-150-nanu.jpg" },
            { id: 176, image: "/Trainors/en_US-SM9-151-nita.jpg" },
            { id: 177, image: "/Trainors/en_US-SM9-152-pokemon_communication.jpg" },
            { id: 178, image: "/Trainors/en_US-SM9-153-return_label.jpg" },
            { id: 179, image: "/Trainors/en_US-SM9-154-sabrinas_suggestion.jpg" },
            { id: 180, image: "/Trainors/en_US-SM9-155-unidentified_fossil.jpg" },
            { id: 181, image: "/Trainors/en_US-SM9-156-viridian_forest.jpg" },
            { id: 182, image: "/Trainors/en_US-SM9-157-water_memory.jpg" },
            { id: 183, image: "/Trainors/en_US-SM9-158-wondrous_labyrinth.jpg" },
        ];

        const GX = [
            { id: 184, image: "/GX/en_US-SM9-001-celebi_venusaur_gx.jpg" },
            { id: 185, image: "/GX/en_US-SM9-033-pikachu_zekrom_gx.jpg" },
            { id: 186, image: "/GX/en_US-SM9-043-ampharos_gx.jpg" },
            { id: 187, image: "/GX/en_US-SM9-053-gengar_mimikyu_gx.jpg" },
            { id: 188, image: "/GX/en_US-SM9-067-mr_mime_gx.jpg" },
            { id: 189, image: "/GX/en_US-SM9-082-lycanroc_gx.jpg" },
            { id: 190, image: "/GX/en_US-SM9-096-hoopa_gx.jpg" },
            { id: 191, image: "/GX/en_US-SM9-097-incineroar_gx.jpg" },
            { id: 192, image: "/GX/en_US-SM9-106-cobalion_gx.jpg" },
            { id: 193, image: "/GX/en_US-SM9-113-latias_latios_gx.jpg" },
            { id: 194, image: "/GX/en_US-SM9-120-eevee_snorlax_gx.jpg" },

        ];

        const fullArts = [
            { id: 195, image: "/Full_Arts/en_US-SM9-159-celebi_venusaur_gx.jpg" },
            { id: 196, image: "/Full_Arts/en_US-SM9-160-magikarp_wailord_gx.jpg" },
            { id: 197, image: "/Full_Arts/en_US-SM9-161-magikarp_wailord_gx.jpg" },
            { id: 198, image: "/Full_Arts/en_US-SM9-162-pikachu_zekrom_gx.jpg" },
            { id: 199, image: "/Full_Arts/en_US-SM9-163-ampharos_gx.jpg" },
            { id: 200, image: "/Full_Arts/en_US-SM9-164-gengar_mimikyu_gx.jpg" },
            { id: 201, image: "/Full_Arts/en_US-SM9-165-gengar_mimikyu_gx.jpg" },
            { id: 202, image: "/Full_Arts/en_US-SM9-166-hoopa_gx.jpg" },
            { id: 203, image: "/Full_Arts/en_US-SM9-167-incineroar_gx.jpg" },
            { id: 204, image: "/Full_Arts/en_US-SM9-168-cobalion_gx.jpg" },
            { id: 205, image: "/Full_Arts/en_US-SM9-169-latias_latios_gx.jpg" },
            { id: 206, image: "/Full_Arts/en_US-SM9-170-latias_latios_gx.jpg" },
            { id: 207, image: "/Full_Arts/en_US-SM9-171-eevee_snorlax_gx.jpg" },
            { id: 208, image: "/Full_Arts/en_US-SM9-172-brocks_grit.jpg" },
            { id: 209, image: "/Full_Arts/en_US-SM9-173-dana.jpg" },
            { id: 210, image: "/Full_Arts/en_US-SM9-174-erikas_hospitality.jpg" },
            { id: 211, image: "/Full_Arts/en_US-SM9-175-evelyn.jpg" },
            { id: 212, image: "/Full_Arts/en_US-SM9-176-ingo_emmet.jpg" },
            { id: 213, image: "/Full_Arts/en_US-SM9-177-jasmine.jpg" },
            { id: 214, image: "/Full_Arts/en_US-SM9-178-morgan.jpg" },
            { id: 215, image: "/Full_Arts/en_US-SM9-179-nanu.jpg" },
            { id: 216, image: "/Full_Arts/en_US-SM9-180-nita.jpg" },
            { id: 217, image: "/Full_Arts/en_US-SM9-181-sabrinas_suggestion.jpg" },
            { id: 218, image: "/Full_Arts/en_US-SM9-182-celebi_venusaur_gx.jpg" },
            { id: 219, image: "/Full_Arts/en_US-SM9-183-magikarp_wailord_gx.jpg" },
            { id: 220, image: "/Full_Arts/en_US-SM9-184-pikachu_zekrom_gx.jpg" },
            { id: 221, image: "/Full_Arts/en_US-SM9-185-ampharos_gx.jpg" },
            { id: 222, image: "/Full_Arts/en_US-SM9-186-gengar_mimikyu_gx.jpg" },
            { id: 223, image: "/Full_Arts/en_US-SM9-187-hoopa_gx.jpg" },
            { id: 224, image: "/Full_Arts/en_US-SM9-188-incineroar_gx.jpg" },
            { id: 225, image: "/Full_Arts/en_US-SM9-189-cobalion_gx.jpg" },
            { id: 226, image: "/Full_Arts/en_US-SM9-190-latias_latios_gx.jpg" },
            { id: 227, image: "/Full_Arts/en_US-SM9-191-eevee_snorlax_gx.jpg" },
            { id: 228, image: "/Full_Arts/en_US-SM9-192-dangerous_drill.jpg" },
            { id: 229, image: "/Full_Arts/en_US-SM9-193-electrocharger.jpg" },
            { id: 230, image: "/Full_Arts/en_US-SM9-194-judge_whistle.jpg" },
            { id: 231, image: "/Full_Arts/en_US-SM9-195-metal_goggles.jpg" },
            { id: 232, image: "/Full_Arts/en_US-SM9-196-pokemon_communication.jpg" },
            { id: 233, image: "/Full_Arts/en_US-SM9-SV67-lycanroc_gx-yaa-067ya.jpg" },
        ]

        // Define probabilities (you can adjust these based on desired rarity)
        const GX_PROBABILITY = 0.10; // 10% chance for EX card
        const FULL_ART_PROBABILITY = 0.01; // 1% chance for Full Art card

        let packCards = [];
        let currentIndex = 0;
        let isAnimating = false;

        function generateNewPack() {
            // Reset the cards container to prepare for a new pack
            const cardsContainer = document.getElementById("cardsContainer");
            cardsContainer.style.visibility = "hidden"; // Hide cards while resetting
            cardsContainer.innerHTML = ""; // Clear current cards

            const pack = document.getElementById("pack");
            if (pack) {
                // Reset the pack animation if it's visible
                pack.style.transform = "translateY(0)";
                pack.style.opacity = "1";
            }

            // Open a new pack
            openPack();
        }

        function cutPack(event) {
            const pack = document.getElementById("pack");
            if (!pack) return;

            pack.style.transform = "translateY(-150%)";
            pack.style.opacity = "0";

            // Add a slight delay before removing the pack to ensure the animation finishes
            setTimeout(() => {
                pack.remove();
                document.getElementById("cardsContainer").style.visibility = "visible";
                openPack();
            }, 600); // Slight delay (adjust if necessary)
        }

        // Function to open the pack and display the cards with sequential animation
        function openPack() {
            const cardsContainer = document.getElementById("cardsContainer");
            cardsContainer.innerHTML = "";
            packCards = [];
            currentIndex = 0;

            function getRandomCard(pool, alreadyPicked) {
                let randomIndex;
                let selectedCard;
                do {
                    randomIndex = Math.floor(Math.random() * pool.length);
                    selectedCard = pool[randomIndex];
                } while (alreadyPicked.includes(selectedCard.id)); // Ensure no duplicates by checking the ID

                alreadyPicked.push(selectedCard.id); // Add the card ID to the alreadyPicked list
                pool.splice(randomIndex, 1); // Remove the selected card from the pool
                return selectedCard;
            }

            // Track already selected card IDs to avoid duplicates in the same pack
            let alreadyPicked = [];

            // Select 4 common cards
            for (let i = 0; i < 4; i++) {
                packCards.push(getRandomCard([...commonCards], alreadyPicked));
            }

            // Select 3 uncommon cards
            for (let i = 0; i < 3; i++) {
                packCards.push(getRandomCard([...uncommonCards], alreadyPicked));
            }

            // Select 1 trainer card
            packCards.push(getRandomCard([...trainerCards], alreadyPicked));

            // Select 1 energy card
            packCards.push(getRandomCard([...energyCards], alreadyPicked));

            // Determine if the last card should be a rare, EX, or Full Art
            let rareOrEXCard;

            const randomChance = Math.random();
            if (randomChance < FULL_ART_PROBABILITY) {
                // Select Full Art card
                rareOrEXCard = getRandomCard([...fullArts], alreadyPicked);
            } else if (randomChance < FULL_ART_PROBABILITY + GX_PROBABILITY) {
                // Select EX card
                rareOrEXCard = getRandomCard([...GX], alreadyPicked);
            } else {
                // Select normal rare card
                rareOrEXCard = getRandomCard([...rareCards], alreadyPicked);
            }

            // Add the selected rare/EX/Full Art card to the pack
            packCards.push(rareOrEXCard);

            // Create the card elements and append them to the container
            for (let i = packCards.length - 1; i >= 0; i--) {
                let cardElement = document.createElement("div");
                cardElement.classList.add("card");
                cardElement.style.zIndex = packCards.length - i;

                let cardImage = document.createElement("img");
                cardImage.src = `images/${packCards[i].image}`;
                cardElement.appendChild(cardImage);

                cardElement.onclick = (event) => {
                    revealNextCard(event, i === packCards.length - 1);
                    addToBinder(packCards[i].image, packCards[i].id); // Add card with ID to binder
                };

                cardsContainer.appendChild(cardElement);
            }
        }

        // Function to reveal the next card and prevent duplicates in the binder
        function revealNextCard(event, isRare) {
            let card = event.currentTarget;

            // Check if card is already being processed
            if (card.style.opacity === "0" || card.classList.contains('revealed')) {
                return;
            }

            // Mark card as revealed to prevent multiple clicks
            card.classList.add('revealed');
            card.style.transform = "translateY(-250px)";
            card.style.opacity = "0";

            setTimeout(() => {
                card.remove();
                if (currentIndex === packCards.length - 1) {
                    // If it's the last card (rare card), execute specific actions
                    console.log('Last card revealed: Rare');
                }
                currentIndex++;
                // Check if there are remaining cards to be revealed
                if (currentIndex < packCards.length) {
                    revealNextCardForNextCard();
                }
            }, 1000);
        }

        // Function to add card to binder and prevent duplicates
        function addToBinder(image, id) {
            let binder = JSON.parse(localStorage.getItem('binderCardsTeamUp')) || [];

            // Prevent adding duplicate cards based on both ID and Image path
            if (!binder.some(item => item.id === id)) {
                binder.push({ id, image });
                localStorage.setItem('binderCardsTeamUp', JSON.stringify(binder));
            }
        }


        // Array of possible background images
        const packImages = [
            "images/Packs/eeveeSnorlaxPack.jpg", 
            "images/Packs/gengarMimikyuPack.jpg", 
            "images/Packs/pikachuZekromPack.jpg", 
            "images/Packs/venusaurCelebiPack.jpg"
        ];

        // Select a random background image
        const randomBackground = packImages[Math.floor(Math.random() * packImages.length)];

        // Set the background image of the pack
        document.getElementById("pack").style.backgroundImage = `url(${randomBackground})`;




    </script>
</body>

</html>